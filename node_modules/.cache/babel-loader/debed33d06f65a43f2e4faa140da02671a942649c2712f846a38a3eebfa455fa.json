{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/blaze/my-project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/blaze/my-project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/blaze/my-project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import Button from'react-bootstrap/Button';import axios from'axios';import Swal from'sweetalert2';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function List(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];useEffect(function(){fetchProducts();},[]);var fetchProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"http://localhost:8000/api/products\").then(function(_ref2){var data=_ref2.data;setProducts(data);});case 2:case\"end\":return _context.stop();}},_callee);}));return function fetchProducts(){return _ref.apply(this,arguments);};}();var deleteProduct=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){var isConfirm;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return Swal.fire({title:'Are you sure?',text:\"You won't be able to revert this!\",icon:'warning',showCancelButton:true,confirmButtonColor:'#3085d6',cancelButtonColor:'#d33',confirmButtonText:'Yes, delete it!'}).then(function(result){return result.isConfirmed;});case 2:isConfirm=_context2.sent;if(isConfirm){_context2.next=5;break;}return _context2.abrupt(\"return\");case 5:_context2.next=7;return axios.delete(\"http://localhost:8000/api/products/\".concat(id)).then(function(_ref4){var data=_ref4.data;Swal.fire({icon:\"success\",text:data.message});fetchProducts();}).catch(function(_ref5){var data=_ref5.response.data;Swal.fire({text:data.message,icon:\"error\"});});case 7:case\"end\":return _context2.stop();}},_callee2);}));return function deleteProduct(_x){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(Link,{className:\"btn btn-primary mb-2 float-end\",to:\"/product/create\",children:\"Create Product\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card card-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered mb-0 text-center\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Image\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:products.length>0&&products.map(function(row,key){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:row.title}),/*#__PURE__*/_jsx(\"td\",{children:row.description}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{width:\"50px\",src:\"http://localhost:8000/storage/product/image/\".concat(row.image)})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/product/edit/\".concat(row.id),className:\"btn btn-success me-2\",children:\"Edit\"}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:function onClick(){return deleteProduct(row.id);},children:\"Delete\"})]})]},key);})})]})})})})]})});}","map":{"version":3,"names":["React","useEffect","useState","Link","Button","axios","Swal","jsx","_jsx","jsxs","_jsxs","List","_useState","_useState2","_slicedToArray","products","setProducts","fetchProducts","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","get","then","_ref2","data","stop","apply","arguments","deleteProduct","_ref3","_callee2","id","isConfirm","_callee2$","_context2","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","result","isConfirmed","sent","abrupt","delete","concat","_ref4","message","catch","_ref5","response","_x","className","children","to","length","map","row","key","description","width","src","image","variant","onClick"],"sources":["C:/Users/blaze/my-project/src/views/ListReact.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Button from 'react-bootstrap/Button'\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2'\r\n\r\nexport default function List() {\r\n\r\n    const [products, setProducts] = useState([])\r\n\r\n    useEffect(()=>{\r\n        fetchProducts() \r\n    },[])\r\n\r\n    const fetchProducts = async () => {\r\n        await axios.get(`http://localhost:8000/api/products`).then(({data})=>{\r\n            setProducts(data)\r\n        })\r\n    }\r\n\r\n    const deleteProduct = async (id) => {\r\n        const isConfirm = await Swal.fire({\r\n            title: 'Are you sure?',\r\n            text: \"You won't be able to revert this!\",\r\n            icon: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonColor: '#3085d6',\r\n            cancelButtonColor: '#d33',\r\n            confirmButtonText: 'Yes, delete it!'\r\n          }).then((result) => {\r\n            return result.isConfirmed\r\n          });\r\n\r\n          if(!isConfirm){\r\n            return;\r\n          }\r\n\r\n          await axios.delete(`http://localhost:8000/api/products/${id}`).then(({data})=>{\r\n            Swal.fire({\r\n                icon:\"success\",\r\n                text:data.message\r\n            })\r\n            fetchProducts()\r\n          }).catch(({response:{data}})=>{\r\n            Swal.fire({\r\n                text:data.message,\r\n                icon:\"error\"\r\n            })\r\n          })\r\n    }\r\n\r\n    return (\r\n      <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className='col-12'>\r\n                <Link className='btn btn-primary mb-2 float-end' to={\"/product/create\"}>\r\n                    Create Product\r\n                </Link>\r\n            </div>\r\n            <div className=\"col-12\">\r\n                <div className=\"card card-body\">\r\n                    <div className=\"table-responsive\">\r\n                        <table className=\"table table-bordered mb-0 text-center\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>Title</th>\r\n                                    <th>Description</th>\r\n                                    <th>Image</th>\r\n                                    <th>Actions</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {\r\n                                    products.length > 0 && (\r\n                                        products.map((row, key)=>(\r\n                                            <tr key={key}>\r\n                                                <td>{row.title}</td>\r\n                                                <td>{row.description}</td>\r\n                                                <td>\r\n                                                    <img width=\"50px\" src={`http://localhost:8000/storage/product/image/${row.image}`} />\r\n                                                </td>\r\n                                                <td>\r\n                                                    <Link to={`/product/edit/${row.id}`} className='btn btn-success me-2'>\r\n                                                        Edit\r\n                                                    </Link>\r\n                                                    <Button variant=\"danger\" onClick={()=>deleteProduct(row.id)}>\r\n                                                        Delete\r\n                                                    </Button>\r\n                                                </td>\r\n                                            </tr>\r\n                                        ))\r\n                                    )\r\n                                }\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n          </div>\r\n      </div>\r\n    )\r\n}"],"mappings":"6VAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,CAAAC,MAAM,KAAM,wBAAwB,CAC3C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,IAAI,KAAM,aAAa,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE9B,cAAe,SAAS,CAAAC,IAAIA,CAAA,CAAG,CAE3B,IAAAC,SAAA,CAAgCV,QAAQ,CAAC,EAAE,CAAC,CAAAW,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAE5BZ,SAAS,CAAC,UAAI,CACVgB,aAAa,CAAC,CAAC,CACnB,CAAC,CAAC,EAAE,CAAC,CAEL,GAAM,CAAAA,aAAa,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,SAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACZ,CAAAtB,KAAK,CAACuB,GAAG,qCAAqC,CAAC,CAACC,IAAI,CAAC,SAAAC,KAAA,CAAU,IAAR,CAAAC,IAAI,CAAAD,KAAA,CAAJC,IAAI,CAC7Df,WAAW,CAACe,IAAI,CAAC,CACrB,CAAC,CAAC,yBAAAN,QAAA,CAAAO,IAAA,MAAAV,OAAA,GACL,kBAJK,CAAAL,aAAaA,CAAA,SAAAC,IAAA,CAAAe,KAAA,MAAAC,SAAA,OAIlB,CAED,GAAM,CAAAC,aAAa,6BAAAC,KAAA,CAAAjB,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAgB,SAAOC,EAAE,MAAAC,SAAA,QAAAnB,mBAAA,GAAAG,IAAA,UAAAiB,UAAAC,SAAA,iBAAAA,SAAA,CAAAf,IAAA,CAAAe,SAAA,CAAAd,IAAA,SAAAc,SAAA,CAAAd,IAAA,SACH,CAAArB,IAAI,CAACoC,IAAI,CAAC,CAC9BC,KAAK,CAAE,eAAe,CACtBC,IAAI,CAAE,mCAAmC,CACzCC,IAAI,CAAE,SAAS,CACfC,gBAAgB,CAAE,IAAI,CACtBC,kBAAkB,CAAE,SAAS,CAC7BC,iBAAiB,CAAE,MAAM,CACzBC,iBAAiB,CAAE,iBACrB,CAAC,CAAC,CAACpB,IAAI,CAAC,SAACqB,MAAM,CAAK,CAClB,MAAO,CAAAA,MAAM,CAACC,WAAW,CAC3B,CAAC,CAAC,QAVEZ,SAAS,CAAAE,SAAA,CAAAW,IAAA,IAYTb,SAAS,EAAAE,SAAA,CAAAd,IAAA,iBAAAc,SAAA,CAAAY,MAAA,kBAAAZ,SAAA,CAAAd,IAAA,SAIP,CAAAtB,KAAK,CAACiD,MAAM,uCAAAC,MAAA,CAAuCjB,EAAE,CAAE,CAAC,CAACT,IAAI,CAAC,SAAA2B,KAAA,CAAU,IAAR,CAAAzB,IAAI,CAAAyB,KAAA,CAAJzB,IAAI,CACxEzB,IAAI,CAACoC,IAAI,CAAC,CACNG,IAAI,CAAC,SAAS,CACdD,IAAI,CAACb,IAAI,CAAC0B,OACd,CAAC,CAAC,CACFxC,aAAa,CAAC,CAAC,CACjB,CAAC,CAAC,CAACyC,KAAK,CAAC,SAAAC,KAAA,CAAqB,IAAT,CAAA5B,IAAI,CAAA4B,KAAA,CAAdC,QAAQ,CAAE7B,IAAI,CACvBzB,IAAI,CAACoC,IAAI,CAAC,CACNE,IAAI,CAACb,IAAI,CAAC0B,OAAO,CACjBZ,IAAI,CAAC,OACT,CAAC,CAAC,CACJ,CAAC,CAAC,yBAAAJ,SAAA,CAAAT,IAAA,MAAAK,QAAA,GACP,kBA7BK,CAAAF,aAAaA,CAAA0B,EAAA,SAAAzB,KAAA,CAAAH,KAAA,MAAAC,SAAA,OA6BlB,CAED,mBACE1B,IAAA,QAAKsD,SAAS,CAAC,WAAW,CAAAC,QAAA,cACtBrD,KAAA,QAAKoD,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBvD,IAAA,QAAKsD,SAAS,CAAC,QAAQ,CAAAC,QAAA,cACnBvD,IAAA,CAACL,IAAI,EAAC2D,SAAS,CAAC,gCAAgC,CAACE,EAAE,CAAE,iBAAkB,CAAAD,QAAA,CAAC,gBAExE,CAAM,CAAC,CACN,CAAC,cACNvD,IAAA,QAAKsD,SAAS,CAAC,QAAQ,CAAAC,QAAA,cACnBvD,IAAA,QAAKsD,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC3BvD,IAAA,QAAKsD,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC7BrD,KAAA,UAAOoD,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDvD,IAAA,UAAAuD,QAAA,cACIrD,KAAA,OAAAqD,QAAA,eACIvD,IAAA,OAAAuD,QAAA,CAAI,OAAK,CAAI,CAAC,cACdvD,IAAA,OAAAuD,QAAA,CAAI,aAAW,CAAI,CAAC,cACpBvD,IAAA,OAAAuD,QAAA,CAAI,OAAK,CAAI,CAAC,cACdvD,IAAA,OAAAuD,QAAA,CAAI,SAAO,CAAI,CAAC,EAChB,CAAC,CACF,CAAC,cACRvD,IAAA,UAAAuD,QAAA,CAEQhD,QAAQ,CAACkD,MAAM,CAAG,CAAC,EACflD,QAAQ,CAACmD,GAAG,CAAC,SAACC,GAAG,CAAEC,GAAG,qBAClB1D,KAAA,OAAAqD,QAAA,eACIvD,IAAA,OAAAuD,QAAA,CAAKI,GAAG,CAACxB,KAAK,CAAK,CAAC,cACpBnC,IAAA,OAAAuD,QAAA,CAAKI,GAAG,CAACE,WAAW,CAAK,CAAC,cAC1B7D,IAAA,OAAAuD,QAAA,cACIvD,IAAA,QAAK8D,KAAK,CAAC,MAAM,CAACC,GAAG,gDAAAhB,MAAA,CAAiDY,GAAG,CAACK,KAAK,CAAG,CAAE,CAAC,CACrF,CAAC,cACL9D,KAAA,OAAAqD,QAAA,eACIvD,IAAA,CAACL,IAAI,EAAC6D,EAAE,kBAAAT,MAAA,CAAmBY,GAAG,CAAC7B,EAAE,CAAG,CAACwB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAAC,MAEtE,CAAM,CAAC,cACPvD,IAAA,CAACJ,MAAM,EAACqE,OAAO,CAAC,QAAQ,CAACC,OAAO,CAAE,SAAAA,QAAA,QAAI,CAAAvC,aAAa,CAACgC,GAAG,CAAC7B,EAAE,CAAC,EAAC,CAAAyB,QAAA,CAAC,QAE7D,CAAQ,CAAC,EACT,CAAC,GAbAK,GAcL,CAAC,EACR,CACJ,CAEF,CAAC,EACL,CAAC,CACP,CAAC,CACL,CAAC,CACL,CAAC,EACH,CAAC,CACL,CAAC,CAEZ"},"metadata":{},"sourceType":"module","externalDependencies":[]}